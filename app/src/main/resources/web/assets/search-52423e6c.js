import{bu as Z,bv as A,aS as C,aM as G,bw as _,bx as H,by as W,aP as Y,bz as q,bA as Q,r as B,B as F}from"./index-79f9263f.js";import{a as J}from"./baseIndexOf-70b929c6.js";function V(e,u,n){switch(n.length){case 0:return e.call(u);case 1:return e.call(u,n[0]);case 2:return e.call(u,n[0],n[1]);case 3:return e.call(u,n[0],n[1],n[2])}return e.apply(u,n)}var K=800,X=16,ee=Date.now;function ue(e){var u=0,n=0;return function(){var t=ee(),r=X-(t-n);if(n=t,r>0){if(++u>=K)return arguments[0]}else u=0;return e.apply(void 0,arguments)}}function ne(e){return function(){return e}}var re=function(){try{var e=Z(Object,"defineProperty");return e({},"",{}),e}catch{}}();const p=re;var te=p?function(e,u){return p(e,"toString",{configurable:!0,enumerable:!1,value:ne(u),writable:!0})}:A;const ae=te;var oe=ue(ae);const se=oe;function fe(e,u){var n=e==null?0:e.length;return!!n&&J(e,u,0)>-1}var b=Math.max;function ie(e,u,n){return u=b(u===void 0?e.length-1:u,0),function(){for(var t=arguments,r=-1,a=b(t.length-u,0),o=Array(a);++r<a;)o[r]=t[u+r];r=-1;for(var f=Array(u+1);++r<u;)f[r]=t[r];return f[u]=n(o),V(e,this,f)}}function ce(e,u){return se(ie(e,u,A),e+"")}function de(e,u,n,t){var r=-1,a=e==null?0:e.length;for(t&&a&&(n=e[++r]);++r<a;)n=u(n,e[r],r,e);return n}function xe(e){return function(u){return e==null?void 0:e[u]}}var le={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},pe=xe(le);const be=pe;var ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,he="\\u0300-\\u036f",me="\\ufe20-\\ufe2f",ve="\\u20d0-\\u20ff",Re=he+me+ve,Oe="["+Re+"]",Ae=RegExp(Oe,"g");function Ce(e){return e=C(e),e&&e.replace(ge,be).replace(Ae,"")}var Ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Le(e){return e.match(Ee)||[]}var Se=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Te(e){return Se.test(e)}var E="\\ud800-\\udfff",ye="\\u0300-\\u036f",we="\\ufe20-\\ufe2f",Ue="\\u20d0-\\u20ff",$e=ye+we+Ue,L="\\u2700-\\u27bf",S="a-z\\xdf-\\xf6\\xf8-\\xff",Ie="\\xac\\xb1\\xd7\\xf7",Me="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ne="\\u2000-\\u206f",ke=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",T="A-Z\\xc0-\\xd6\\xd8-\\xde",De="\\ufe0e\\ufe0f",y=Ie+Me+Ne+ke,w="['’]",g="["+y+"]",je="["+$e+"]",U="\\d+",ze="["+L+"]",$="["+S+"]",I="[^"+E+y+U+L+S+T+"]",Pe="\\ud83c[\\udffb-\\udfff]",Ze="(?:"+je+"|"+Pe+")",Ge="[^"+E+"]",M="(?:\\ud83c[\\udde6-\\uddff]){2}",N="[\\ud800-\\udbff][\\udc00-\\udfff]",i="["+T+"]",_e="\\u200d",h="(?:"+$+"|"+I+")",He="(?:"+i+"|"+I+")",m="(?:"+w+"(?:d|ll|m|re|s|t|ve))?",v="(?:"+w+"(?:D|LL|M|RE|S|T|VE))?",k=Ze+"?",D="["+De+"]?",We="(?:"+_e+"(?:"+[Ge,M,N].join("|")+")"+D+k+")*",Ye="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qe=D+k+We,Be="(?:"+[ze,M,N].join("|")+")"+Qe,Fe=RegExp([i+"?"+$+"+"+m+"(?="+[g,i,"$"].join("|")+")",He+"+"+v+"(?="+[g,i+h,"$"].join("|")+")",i+"?"+h+"+"+m,i+"+"+v,qe,Ye,U,Be].join("|"),"g");function Je(e){return e.match(Fe)||[]}function Ve(e,u,n){return e=C(e),u=n?void 0:u,u===void 0?Te(e)?Je(e):Le(e):e.match(u)||[]}var Ke="['’]",Xe=RegExp(Ke,"g");function eu(e){return function(u){return de(Ve(Ce(u).replace(Xe,"")),e,"")}}function uu(e){return G(e)&&_(e)}function nu(e,u,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(u,e[t]))return!0;return!1}var ru=200;function tu(e,u,n,t){var r=-1,a=fe,o=!0,f=e.length,c=[],P=u.length;if(!f)return c;n&&(u=H(u,Y(n))),t?(a=nu,o=!1):u.length>=ru&&(a=q,o=!1,u=new W(u));e:for(;++r<f;){var s=e[r],d=n==null?s:n(s);if(s=t||s!==0?s:0,o&&d===d){for(var l=P;l--;)if(u[l]===d)continue e;c.push(s)}else a(u,d,t)||c.push(s)}return c}var au=eu(function(e,u,n){return e+(n?"-":"")+u.toLowerCase()});const ou=au;var su=ce(function(e,u){return uu(e)?tu(e,u):[]});const fu=su,iu=/(?:[^\s"]+|"[^"]*")+/g,R=":",x="NOT",j={"=":"!=",">=":"<",">":"<=","!=":"=","<=":">","<":">=",in:"nin",nin:"in"},cu=fu(Q(j),"in","nin");function du(e){return e.match(iu)}function O(e){return e.replace(/['"]+/g,"")}function xu(e){return cu.find(u=>e.indexOf(u)===0)||""}function lu(e){const u=e.split(R),n=O(u[0]),t=O(u.slice(1).join(R)),r=xu(t),a=t.slice(r.length);return{length:u.length,field:n,query:t,op:r,value:a}}function pu(e){if(e==x)return{name:"",op:x,value:""};const u=lu(e);return u.field=="is"?{name:u.query,op:"",value:"true"}:u.length==1?{name:"text",op:"",value:u.field}:{name:u.field,op:u.op,value:u.value}}const bu=e=>{var t;const u=(t=du(e))==null?void 0:t.map(r=>pu(r));if(!u)return[];let n=!1;return u.forEach(r=>{r.op==x?n=!0:n&&(r.op=j[r.op]||"",n=!1)}),u.filter(r=>r.op!==x)},gu=e=>{const u=[];return e.forEach(n=>{const t=n.value;n.name==="text"?t.indexOf(" ")!==-1?u.push(`"${t}"`):u.push(t):t.indexOf(" ")!==-1?u.push(`${n.name}:${n.op}"${t}"`):u.push(`${n.name}:${n.op}${t}`)}),u.join(" ")},z=(e,u)=>{var r,a;const n=B(F(((r=e.q)==null?void 0:r.toString())??"")),t=bu(n.value);return t.length===1?((a=t.find(o=>o.name===u))==null?void 0:a.value)??"":""},vu=e=>z(e,"tag"),Ru=e=>z(e,"feed"),Ou=e=>{const u=[];for(const n of e.tags)u.push({name:"tag",op:"",value:ou(n.name)});return e.text&&u.push({name:"text",op:"",value:e.text}),gu(u)};export{Ou as a,gu as b,bu as c,Ru as d,ou as k,vu as p};
